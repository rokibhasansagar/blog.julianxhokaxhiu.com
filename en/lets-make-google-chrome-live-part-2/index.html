<!DOCTYPE html><html class="theme-next mist use-motion" lang="en,it,default"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="google-site-verification" content="CV7NWabg4dHSTzScrRzKFAAh0V3TST4qMlcoW7Y_Z3s"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Montserrat:300,300italic,400,400italic,700,700italic|Domine:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css"><meta name="keywords" content="c,win32,"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2"><meta name="description" content="Hello again,sorry for this late post that i’ve promised a month ago. But who cares, the important thing is that we’re here alive and kicking again or not? :)Today i would like to tell you how to creat"><meta name="keywords" content="c,win32"><meta property="og:type" content="article"><meta property="og:title" content="Let’s make Google Chrome Live! – Part 2"><meta property="og:url" content="https://blog.julianxhokaxhiu.com/en/lets-make-google-chrome-live-part-2/index.html"><meta property="og:site_name" content="A Developer&#39;s Blog"><meta property="og:description" content="Hello again,sorry for this late post that i’ve promised a month ago. But who cares, the important thing is that we’re here alive and kicking again or not? :)Today i would like to tell you how to creat"><meta property="og:locale" content="en"><meta property="og:updated_time" content="2017-09-09T00:08:00.983Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Let’s make Google Chrome Live! – Part 2"><meta name="twitter:description" content="Hello again,sorry for this late post that i’ve promised a month ago. But who cares, the important thing is that we’re here alive and kicking again or not? :)Today i would like to tell you how to creat"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",version:"5.1.2",sidebar:{position:"left",display:"post",offset:12,offset_float:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn"}},duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="https://blog.julianxhokaxhiu.com/en/lets-make-google-chrome-live-part-2/"><title>Let’s make Google Chrome Live! – Part 2 | A Developer's Blog</title><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create","UA-13006157-1","auto"),ga("send","pageview")</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="en"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">A Developer's Blog</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-english"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-globe"></i><br>English</a></li><li class="menu-item menu-item-italiano"><a href="/it" rel="section"><i class="menu-item-icon fa fa-fw fa-globe"></i><br>Italiano</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://blog.julianxhokaxhiu.com/en/lets-make-google-chrome-live-part-2/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Julian Xhokaxhiu"><meta itemprop="description" content=""><meta itemprop="image" content="/uploads/8bitme.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="A Developer's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Let’s make Google Chrome Live! – Part 2</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2010-07-03T12:09:49+02:00">2010-07-03 </time></span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><a href="/en/lets-make-google-chrome-live-part-2/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="en/lets-make-google-chrome-live-part-2/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>Hello again,</p><p>sorry for this late post that i’ve promised a month ago. But who cares, the important thing is that we’re here alive and kicking again or not? :)</p><p>Today i would like to tell you how to create a GUI loader for your Google Chrome Live CD, because if you remember the last post, we had made it but only in (maybe horrible?) Console version. Before posting the code as usual i would like to tell you what you have to do before.</p><p>To make a GUI loader for a CD is just a pain in the ass (believe me) because you have to think two things: first, is for what platform you’re going to develop to, and second you have to choose a method that is compatible with all the forms, versions and types of that platform. In this case i covered all the Windows platforms (from Windows 95 to Windows 7) but as you already know between them, there are so much differences in the core of the platform that made me to choose the only one that i know that it just works: i’m talking about Windows SDK.</p><p>Yeah, maybe you’re thinking “wtf?” or “just crazy…why didn’t you choose .NET platform?”, but i can answer both of those questions with: didn’t you know that Windows 95 to Windows ME do not have .NET support? And because Windows is made in Pure C, why can’t we use such a great language like that one? Windows SDK was made with only one scope in mind: cover all the windows platforms, to let developers create application that just works (but they’re just “much difficult” to code).</p><p>OK so, now that we know what are we going to do, before copying and compiling the source that will be posted after this, you must do two things: create an empty C++ project with Microsoft Visual C++ 2005/2008/2010 (also Express Edition works) and create a BMP image to put when our loader is working. After this remember to include that one in a file called <strong>Resource.rc</strong>. That is, copy and paste the code into your Main.cpp file and compile :)</p><p>Easy huh? If you’re curious to know much about the code, read the comments (if you need more, just let me know) and continue to follow me as i’m going to post some nice other things, like how to fix baloon height size in Google Maps API v2.</p><p>Thanks for reading, see you in the next post.</p><p>EDIT: I’ve attached a simple project with all of this combined, so just download, unzip and compile. To do so, you need Microsoft Visual C++ 2010 Express Edition (otherwise you can copy and paste the code). <a href="/en/lets-make-google-chrome-live-part-2/MyCDLoader.zip" title="Download it now!">Download it now!</a></p><p><strong>Main.cpp</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"resource.h"</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;direct.h&gt; // for getcwd</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;// for MAX_PATH</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;windows.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;windowsx.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> IDT_TIMER1 1000</span></div><div class="line"><span class="function">LRESULT CALLBACK <span class="title">WndProc</span> <span class="params">(HWND, UINT, WPARAM, LPARAM)</span></span>;</div><div class="line">HBITMAP hBitmap;</div><div class="line">PAINTSTRUCT ps;</div><div class="line">HDC hdc;</div><div class="line"><span class="comment">// Get information about Chrome</span></div><div class="line">PROCESS_INFORMATION pif;  <span class="comment">//Gives info on the thread and..</span></div><div class="line"><span class="comment">//..process for the new process</span></div><div class="line">STARTUPINFO si;           <span class="comment">//Defines how to start the program</span></div><div class="line"><span class="comment">/* Function CenterWindow(), Centers Window */</span></div><div class="line"><span class="function">VOID <span class="title">CenterWindow</span><span class="params">(HWND hwnd, HWND hwndParent, <span class="keyword">int</span> Width, <span class="keyword">int</span> Height)</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line"><span class="comment">/* Variables */</span></div><div class="line">RECT rc;</div><div class="line"><span class="comment">/* If Parent Window Is Set As Null, Get The Desktop Window */</span></div><div class="line"><span class="keyword">if</span>(hwndParent == <span class="literal">NULL</span>)</div><div class="line">hwndParent = GetDesktopWindow();</div><div class="line"><span class="comment">/* Get Parent Client Area Measurements */</span></div><div class="line">GetClientRect(hwndParent, &amp;rc);</div><div class="line"><span class="comment">/* Center The Window */</span></div><div class="line">MoveWindow(</div><div class="line">hwnd,</div><div class="line">(rc.right - rc.left - Width) / <span class="number">2</span>,</div><div class="line">(rc.bottom - rc.top - Height) / <span class="number">2</span>,</div><div class="line">Width,</div><div class="line">Height,</div><div class="line">TRUE</div><div class="line">);</div><div class="line"><span class="keyword">return</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> WINAPI <span class="title">WinMain</span> <span class="params">(HINSTANCE hInstance, HINSTANCE hPrevInstance, PSTR szCmdLine, <span class="keyword">int</span> iCmdShow)</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line"><span class="keyword">static</span> <span class="keyword">char</span> szAppName[] = <span class="string">"My CD Loader"</span> ;</div><div class="line">HWND        hwnd ;</div><div class="line">MSG         msg ;</div><div class="line">WNDCLASSEX  wndclass ;</div><div class="line">wndclass.cbSize        = <span class="keyword">sizeof</span> (wndclass) ;</div><div class="line">wndclass.style         = CS_HREDRAW | CS_VREDRAW ;</div><div class="line">wndclass.lpfnWndProc   = WndProc ;</div><div class="line">wndclass.cbClsExtra    = <span class="number">0</span> ;</div><div class="line">wndclass.cbWndExtra    = <span class="number">0</span> ;</div><div class="line">wndclass.hInstance     = hInstance ;</div><div class="line">wndclass.hIcon         = LoadIcon (<span class="literal">NULL</span>, IDI_APPLICATION) ;</div><div class="line">wndclass.hCursor       = LoadCursor (<span class="literal">NULL</span>, IDC_ARROW) ;</div><div class="line">wndclass.hbrBackground = (HBRUSH) GetStockObject (WHITE_BRUSH) ;</div><div class="line">wndclass.lpszMenuName  = <span class="literal">NULL</span> ;</div><div class="line">wndclass.lpszClassName = szAppName ;</div><div class="line">wndclass.hIconSm       = LoadIcon (<span class="literal">NULL</span>, IDI_APPLICATION) ;</div><div class="line">RegisterClassEx (&amp;wndclass) ;</div><div class="line">hwnd = CreateWindow(szAppName,   <span class="comment">// window class name</span></div><div class="line"><span class="literal">NULL</span>,     <span class="comment">// window caption</span></div><div class="line">WS_POPUP,     <span class="comment">// window style</span></div><div class="line">CW_USEDEFAULT,           <span class="comment">// initial x position</span></div><div class="line">CW_USEDEFAULT,           <span class="comment">// initial y position</span></div><div class="line"><span class="number">367</span>,           <span class="comment">// initial x size</span></div><div class="line"><span class="number">192</span>,           <span class="comment">// initial y size</span></div><div class="line"><span class="literal">NULL</span>,                    <span class="comment">// parent window handle</span></div><div class="line"><span class="literal">NULL</span>,                    <span class="comment">// window menu handle</span></div><div class="line">hInstance,               <span class="comment">// program instance handle</span></div><div class="line"><span class="literal">NULL</span>) ;               <span class="comment">// creation parameters</span></div><div class="line">ShowWindow (hwnd, iCmdShow) ;</div><div class="line">UpdateWindow (hwnd) ;</div><div class="line">CenterWindow(hwnd, <span class="literal">NULL</span>, <span class="number">367</span>, <span class="number">192</span>);</div><div class="line">SetTimer(hwnd,             <span class="comment">// handle to main window</span></div><div class="line">IDT_TIMER1,            <span class="comment">// timer identifier</span></div><div class="line"><span class="number">1000</span>,                 <span class="comment">// 10-second interval</span></div><div class="line">(TIMERPROC) <span class="literal">NULL</span>);     <span class="comment">// no timer callback</span></div><div class="line"><span class="keyword">while</span> (GetMessage (&amp;msg, <span class="literal">NULL</span>, <span class="number">0</span>, <span class="number">0</span>))</div><div class="line">&#123;</div><div class="line">TranslateMessage (&amp;msg) ;</div><div class="line">DispatchMessage (&amp;msg) ;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> msg.wParam ;</div><div class="line">&#125;</div><div class="line"><span class="function">LRESULT CALLBACK <span class="title">WndProc</span> <span class="params">(HWND hwnd, UINT iMsg, WPARAM wParam, LPARAM lParam)</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line"><span class="keyword">switch</span> (iMsg)</div><div class="line">&#123;</div><div class="line"><span class="keyword">case</span> WM_CREATE :</div><div class="line">&#123;</div><div class="line"><span class="comment">// The bitmap should be stored as a resource in the exe file.</span></div><div class="line"><span class="comment">// We pass the hInstance of the application, and the ID of the</span></div><div class="line"><span class="comment">// bitmap to the LoadBitmap API function and it returns us an</span></div><div class="line"><span class="comment">// HBITMAP to a DDB created from the resource data.</span></div><div class="line">HINSTANCE hInstance = GetWindowInstance(hwnd);</div><div class="line">hBitmap = LoadBitmap(hInstance,MAKEINTRESOURCE(IDB_BITMAP1));</div><div class="line"><span class="comment">// Start Google Chrome</span></div><div class="line"><span class="comment">// _MAX_PATH is the maximum length allowed for a path</span></div><div class="line"><span class="keyword">char</span> CurrentPath[_MAX_PATH];</div><div class="line"><span class="keyword">char</span> SysLaunch[_MAX_PATH];</div><div class="line"><span class="comment">// use the function to get the path</span></div><div class="line">_getcwd(CurrentPath, _MAX_PATH);</div><div class="line">strcpy_s(SysLaunch, CurrentPath);</div><div class="line">strcat_s(SysLaunch, <span class="string">"\\GoogleChromePortable\\GoogleChromePortable.exe --start-maximized --app=\""</span>);</div><div class="line">strcat_s(SysLaunch, CurrentPath);</div><div class="line">strcat_s(SysLaunch, <span class="string">"\\start.html\""</span>);</div><div class="line">ZeroMemory(&amp;si,<span class="keyword">sizeof</span>(si)); <span class="comment">//Zero the STARTUPINFO struct</span></div><div class="line">si.cb = <span class="keyword">sizeof</span>(si);         <span class="comment">//Must set size of structure</span></div><div class="line">BOOL bRet = CreateProcess(</div><div class="line"><span class="literal">NULL</span>, <span class="comment">//Path to executable file</span></div><div class="line">SysLaunch,   <span class="comment">//Command string - not needed here</span></div><div class="line"><span class="literal">NULL</span>,   <span class="comment">//Process handle not inherited</span></div><div class="line"><span class="literal">NULL</span>,   <span class="comment">//Thread handle not inherited</span></div><div class="line">FALSE,  <span class="comment">//No inheritance of handles</span></div><div class="line"><span class="number">0</span>,      <span class="comment">//No special flags</span></div><div class="line"><span class="literal">NULL</span>,   <span class="comment">//Same environment block as this prog</span></div><div class="line"><span class="literal">NULL</span>,   <span class="comment">//Current directory - no separate path</span></div><div class="line">&amp;si,    <span class="comment">//Pointer to STARTUPINFO</span></div><div class="line">&amp;pif);   <span class="comment">//Pointer to PROCESS_INFORMATION</span></div><div class="line"><span class="keyword">if</span>(bRet == FALSE)</div><div class="line">&#123;</div><div class="line">MessageBox(HWND_DESKTOP,<span class="string">"Cannot run Google Chrome."</span>,<span class="string">""</span>,MB_OK);</div><div class="line">PostQuitMessage (<span class="number">0</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">case</span> WM_PAINT :</div><div class="line">&#123;</div><div class="line">hdc = BeginPaint (hwnd, &amp;ps);</div><div class="line"><span class="comment">// To paint with a DDB it first needs to be associated</span></div><div class="line"><span class="comment">// with a memory device context. We make a DC that</span></div><div class="line"><span class="comment">// is compatible with the screen by passing NULL to</span></div><div class="line"><span class="comment">// CreateCompatibleDC.</span></div><div class="line"><span class="comment">// Then we need to associate our saved bitmap with the</span></div><div class="line"><span class="comment">// device context.</span></div><div class="line">HDC hdcMem = CreateCompatibleDC(<span class="literal">NULL</span>);</div><div class="line">HBITMAP hbmT = SelectBitmap(hdcMem,hBitmap);</div><div class="line"><span class="comment">// Now, the BitBlt function is used to transfer the contents of the</span></div><div class="line"><span class="comment">// drawing surface from one DC to another. Before we can paint the</span></div><div class="line"><span class="comment">// bitmap however we need to know how big it is. We call the GDI</span></div><div class="line"><span class="comment">// function GetObject to get the relevent details.</span></div><div class="line">BITMAP bm;</div><div class="line">GetObject(hBitmap,<span class="keyword">sizeof</span>(bm),&amp;bm);</div><div class="line">BitBlt(hdc,<span class="number">0</span>,<span class="number">0</span>,bm.bmWidth,bm.bmHeight,hdcMem,<span class="number">0</span>,<span class="number">0</span>,SRCCOPY);</div><div class="line"><span class="comment">// Now, clean up. A memory DC always has a drawing</span></div><div class="line"><span class="comment">// surface in it. It is created with a 1X1 monochrome</span></div><div class="line"><span class="comment">// bitmap that we saved earlier, and need to put back</span></div><div class="line"><span class="comment">// before we destroy it.</span></div><div class="line">SelectBitmap(hdcMem,hbmT);</div><div class="line">DeleteDC(hdcMem);</div><div class="line"><span class="comment">// EndPaint balances off the BeginPaint call.</span></div><div class="line">EndPaint (hwnd, &amp;ps);</div><div class="line"><span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">case</span> WM_TIMER :</div><div class="line">&#123;</div><div class="line"><span class="keyword">switch</span> (wParam)</div><div class="line">&#123;</div><div class="line"><span class="keyword">case</span> IDT_TIMER1 :</div><div class="line">&#123;</div><div class="line"><span class="keyword">if</span>(!WaitForInputIdle(pif.hProcess, <span class="number">0</span>))</div><div class="line">&#123;</div><div class="line">CloseHandle(pif.hProcess);   <span class="comment">//Close handle to process</span></div><div class="line">CloseHandle(pif.hThread);    <span class="comment">//Close handle to thread</span></div><div class="line">PostQuitMessage (<span class="number">0</span>) ; <span class="comment">// Quit from App</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">break</span>;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">break</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">case</span> WM_DESTROY :</div><div class="line">PostQuitMessage (<span class="number">0</span>) ;</div><div class="line"><span class="keyword">return</span> <span class="number">0</span> ;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> DefWindowProc (hwnd, iMsg, wParam, lParam) ;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p><strong>Resource.rc</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Microsoft Visual C++ generated resource script.</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"resource.h"</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> APSTUDIO_READONLY_SYMBOLS</span></div><div class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Generated from the TEXTINCLUDE 2 resource.</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"afxres.h"</span></span></div><div class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><span class="meta">#<span class="meta-keyword">undef</span> APSTUDIO_READONLY_SYMBOLS</span></div><div class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><span class="comment">// Italian (Italy) resources</span></div><div class="line"><span class="meta">#<span class="meta-keyword">if</span> !defined(AFX_RESOURCE_DLL) || defined(AFX_TARG_ITA)</span></div><div class="line">LANGUAGE LANG_ITALIAN, SUBLANG_ITALIAN</div><div class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> APSTUDIO_INVOKED</span></div><div class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// TEXTINCLUDE</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="number">1</span> TEXTINCLUDE</div><div class="line">BEGIN</div><div class="line"><span class="string">"resource.h\0"</span></div><div class="line">END</div><div class="line"><span class="number">2</span> TEXTINCLUDE</div><div class="line">BEGIN</div><div class="line"><span class="string">"#include "</span><span class="string">"afxres.h"</span><span class="string">"\r\n"</span></div><div class="line"><span class="string">"\0"</span></div><div class="line">END</div><div class="line"><span class="number">3</span> TEXTINCLUDE</div><div class="line">BEGIN</div><div class="line"><span class="string">"\r\n"</span></div><div class="line"><span class="string">"\0"</span></div><div class="line">END</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span>    <span class="comment">// APSTUDIO_INVOKED</span></span></div><div class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Bitmap</span></div><div class="line"><span class="comment">//</span></div><div class="line">IDB_BITMAP1             BITMAP                  <span class="string">"Path\\To\\My\\File\\loading.bmp"</span></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span>    <span class="comment">// Italian (Italy) resources</span></span></div><div class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> APSTUDIO_INVOKED</span></div><div class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Generated from the TEXTINCLUDE 3 resource.</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span>    <span class="comment">// not APSTUDIO_INVOKED</span></span></div></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-tags"><a href="/tags/c/" rel="tag"># c</a> <a href="/tags/win32/" rel="tag"># win32</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/en/lets-make-google-chrome-live/" rel="next" title="Let’s make Google Chrome Live!"><i class="fa fa-chevron-left"></i> Let’s make Google Chrome Live!</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/en/how-to-fix-baloon-height-with-images-in-google-maps-api-v2/" rel="prev" title="How to fix baloon height with images in Google Maps API v2">How to fix baloon height with images in Google Maps API v2 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div><div class="comments" id="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/uploads/8bitme.png" alt="Julian Xhokaxhiu"><p class="site-author-name" itemprop="name">Julian Xhokaxhiu</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">48</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-tags"><span class="site-state-item-count">23</span> <span class="site-state-item-name">tags</span></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://julianxhokaxhiu.com" target="_blank" title="WebSite"><i class="fa fa-fw fa-globe"></i>WebSite</a> </span><span class="links-of-author-item"><a href="https://keybase.io/julianxhokaxhiu" target="_blank" title="KeyBase"><i class="fa fa-fw fa-key"></i>KeyBase</a> </span><span class="links-of-author-item"><a href="https://github.com/julianxhokaxhiu" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://twitter.com/JulianXhokaxhiu" target="_blank" title="Twitter"><i class="fa fa-fw fa-twitter"></i>Twitter</a> </span><span class="links-of-author-item"><a href="https://www.facebook.com/julianxhokaxhiu" target="_blank" title="Facebook"><i class="fa fa-fw fa-facebook"></i>Facebook</a> </span><span class="links-of-author-item"><a href="https://plus.google.com/+JulianXhokaxhiu" target="_blank" title="GooglePlus"><i class="fa fa-fw fa-google-plus"></i>GooglePlus</a> </span><span class="links-of-author-item"><a href="https://www.linkedin.com/in/julianxhokaxhiu" target="_blank" title="Linkedin"><i class="fa fa-fw fa-linkedin"></i>Linkedin</a> </span><span class="links-of-author-item"><a href="https://www.xing.com/profile/Julian_Xhokaxhiu" target="_blank" title="Xing"><i class="fa fa-fw fa-xing"></i>Xing</a> </span><span class="links-of-author-item"><a href="https://bitbucket.org/JulianXhokaxhiu" target="_blank" title="BitBucket"><i class="fa fa-fw fa-bitbucket"></i>BitBucket</a> </span><span class="links-of-author-item"><a href="https://www.stackoverflow.com/users/1518095/julian-xhokaxhiu" target="_blank" title="StackOverflow"><i class="fa fa-fw fa-stack-overflow"></i>StackOverflow</a> </span><span class="links-of-author-item"><a href="https://steamcommunity.com/id/julianxhokaxhiu" target="_blank" title="Steam"><i class="fa fa-fw fa-steam-square"></i>Steam</a> </span><span class="links-of-author-item"><a href="https://soundcloud.com/julian-xhokaxhiu" target="_blank" title="SoundCloud"><i class="fa fa-fw fa-soundcloud"></i>SoundCloud</a></span></div><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2010 &mdash; <span itemprop="copyrightYear">2017</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Julian Xhokaxhiu</span></div><div class="powered-by">Powered by <a class="theme-link" href="https://hexo.io">Hexo</a></div><span class="post-meta-divider">|</span><div class="theme-info">Theme &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.2</div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script><script id="dsq-count-scr" src="https://adevelopersblog.disqus.com/count.js" async></script><script type="text/javascript">var disqus_config=function(){this.page.url="https://blog.julianxhokaxhiu.com/en/lets-make-google-chrome-live-part-2/",this.page.identifier="en/lets-make-google-chrome-live-part-2/",this.page.title="Let’s make Google Chrome Live! – Part 2"},d=document,s=d.createElement("script");s.src="https://adevelopersblog.disqus.com/embed.js",s.setAttribute("data-timestamp",""+ +new Date),(d.head||d.body).appendChild(s)</script></body></html>